<!doctype html>
<html lang="es">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Registrar Cuenta</title>
  </head>
  <body style="align-items: center;justify-content: center;min-height: 100vh;display: flex;">
    
    <div class="col-lg-4" style="margin:0px auto;">
      <div class="card shadow mb-4">
        <div class="card-header py-3">
          <h2 class="m-0 font-weight-bold text-center">Registrar Cuenta</h2>
        </div>
        <div class="card-body">
          <form method="POST"> 
            {% csrf_token %}
            <div class="input-group mb-2">{{form.username}}</div>
            <div class="input-group mb-2">{{form.email}}</div>
            <div class="input-group mb-2">{{form.first_name}}</div>
            <div class="input-group mb-2">{{form.last_name}}</div>
            <div class="input-group mb-2">{{form.password1}}</div>
            <div class="input-group mb-2">{{form.password2}}</div>
            <div class="input-group mb-2">{{form2.carnet}}</div>
            <div class="input-group mb-2">{{form2.nombres}}</div>
            <div class="input-group mb-2">{{form2.correo_institucional}}</div>
            <div class="input-group mb-2">{{form2.apellidos}}</div>
            <div class="input-group mb-2">{{form2.numero_contacto}}</div>
            <div class="input-group mb-2 d-none" id="facul">{{form2.id_facultad}}</div>
            <div class="form-group">
                <label for="">Facultad</label>
                    <select  id = "idFacultad" name="idFacultad" class="form-select form-control">
                        <option value="" class="form-control"></option>
                            {% for e in facultad %}

                             <option value="{{e.id_facultad}}" class="form-control" id="facul2">{{e.nombre_facultad}}</option>
                            {%endfor%}
                    </select>
            </div>
            <button type="submit" class="form-control btn btn-success" id="save">Guardar</button>

            <div class="mt-4">
            	<div>
            		Already have an account ?<a href="{% url 'login'%}">Log In</a>
            	</div>
            </div>

          </form>
        </div>
      </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <script>
    	let form_fields = document.getElementsByTagName('input')
      let savebtn = document.getElementById('save');
      let saveFacultad = document.getElementById('id_id_facultad');
      let saveFacultad2 = document.getElementById('idFacultad');

    	form_fields[1].placeholder='Username ..';
    	form_fields[2].placeholder='Email ..';
    	form_fields[3].placeholder='First name ..';
    	form_fields[4].placeholder='Last name ..';
    	form_fields[5].placeholder='Enter password ..';
    	form_fields[6].placeholder='Re-enter password ..';
      form_fields[11].placeholder='Phone number ..';
      //form_fields[7].value='{{form.username.value}}';
      //form_fields[7].value='{{Usuario.carnet}}';
      savebtn.addEventListener('click',function(){
        form_fields[7].value = form_fields[1].value;
        form_fields[8].value = form_fields[3].value;
        form_fields[9].value = form_fields[2].value;
        form_fields[10].value = form_fields[4].value;
        saveFacultad.value = saveFacultad2.value;
      });

    	for (var field in form_fields){
        form_fields[field].className += 'form-control'
        if(field >= 7 && field<= 10){
          form_fields[field].className += 'form-control d-none'
        }
      }

    </script>

  </body>
</html>

